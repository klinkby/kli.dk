---
date: "2021-03-20T13:30:00Z"
title: "Malware scan microservice"
description: ""
tags:
- security
- docker
- linux
- dotnet
images:
- "/images/2021/clam.png"
---

![image](/images/2021/clam.png)

# Malware scan microservice 

I published a new Docker-compose solution with a nice REST interface for on-demand malware scanning using the [ClamAV](https://www.clamav.net/) daemon from a non-blocking .NET5 Kestrel application.

The solution consists of the following parts:

1. A .NET Standard 2.0 assembly implementing a generic non-blocking client proxy for the TCP interface of the ClamAV daemon. The code is in GitHub repo [klinkby/clamdscan](https://github.com/klinkby/clamdscan) and there is a prepacked [Klinkby.Clam](https://www.nuget.org/packages/Klinkby.Clam) NuGet package available for general use.
\[[Read more](https://github.com/klinkby/clamdscan)\].

2. A .NET Core 5 Web API serivce that use above library behind a simple HTTP/REST endpoint, complete with OpenAPI/Swagger, health endpoint and Dockerfile. The code in GitHub repo [klinkby/clamdscan-rest](https://github.com/klinkby/clamdscan-rest), is also available as a prepacked Docker Hub image [klinkby/clamrest](https://hub.docker.com/r/klinkby/clamrest) based on a locked-down Alpine Linux. \[[Read more](https://github.com/klinkby/clamdscan-rest)\].
![image](/images/2021/clamrest.png)

3. In the repo you will also find a [docker-compose](https://github.com/klinkby/clamdscan-rest/blob/main/docker-compose.yml) file that pairs above docker image with an auto updating [ClamAV docker image](https://hub.docker.com/r/mkodockx/docker-clamav) and internal network and health monitoring to provide a complete solution.


Whether you prefer to use it via dotnet or HTTP, all is MIT licensed. ðŸ˜€ 